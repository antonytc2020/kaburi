<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Kaburi - Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            min-height: 100vh;
            /* Fondo solo de alitas */
            background-image: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .container {
            max-width: 400px;
            margin: 80px auto;
            background: rgba(0,0,0,0.82);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px #0009;
            color: #fff;
            position: relative;
            z-index: 2;
            transition: transform 0.7s cubic-bezier(.68,-0.55,.27,1.55), opacity 0.7s;
        }
        .container.hide {
            transform: translateY(120vh);
            opacity: 0;
            pointer-events: none;
        }
        h2, h1 {
            text-align: center;
            color: #ff5252;
            text-shadow: 1px 1px 6px #000c;
        }
        label { display: block; margin-top: 10px; }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border-radius: 4px;
            border: none;
            background: #222;
            color: #fff;
        }
        button {
            margin-top: 15px;
            padding: 10px 20px;
            width: 100%;
            background: #ff5252;
            color: #fff;
            font-size: 1em;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 2px 4px #0007;
            transition: background 0.2s;
        }
        button:hover { background: #b71c1c; }
        .switch { margin-top: 20px; text-align: center;}
        #main-interface { display: none; }
        nav a {
            margin: 0 10px;
            text-decoration: none;
            color: #fff;
            font-weight: bold;
        }
        nav a:hover {
            color: #ff5252;
            text-shadow: 0 0 5px #fff8;
        }
        .form-section {
            max-width: 400px;
            margin: 30px auto;
            background: rgba(33,33,33,0.95);
            padding: 20px;
            border-radius: 8px;
        }
        ul, p {
            color: #fff;
        }
        textarea { resize: vertical; }
        /* Capa oscura para mejorar contraste del contenido */
        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(40,20,20,0.3);
            z-index: 1;
            pointer-events: none;
        }
        @media (max-width: 500px) {
            .container, .form-section { padding: 12px; }
        }
    </style>
</head>
<body>
    <div class="overlay"></div>
    <div class="container" id="auth-section">
        <h2 id="form-title">Iniciar Sesión</h2>
        <form id="login-form">
            <label for="login-email">Correo electrónico:</label>
            <input type="email" id="login-email" required>
            <label for="login-password">Contraseña:</label>
            <input type="password" id="login-password" required>
            <button type="submit">Ingresar</button>
        </form>
        <form id="register-form" style="display:none;">
            <label for="register-email">Correo electrónico:</label>
            <input type="email" id="register-email" required>
            <label for="register-password">Contraseña:</label>
            <input type="password" id="register-password" required>
            <button type="submit">Registrarse</button>
        </form>
        <div class="switch">
            <span id="toggle-msg">¿No tienes cuenta?</span>
            <a href="#" id="toggle-link">Registrarse</a>
        </div>
    </div>

    <div id="main-interface">
        <header>
            <h1>Kaburi</h1>
            <button onclick="logout()" style="float:right;">Cerrar sesión</button>
            <nav>
                <a href="#menu">Menú</a>
                <a href="#pedido">Pide Online</a>
                <a href="#reserva">Reserva Mesa</a>
                <a href="#contacto">Contacto</a>
            </nav>
        </header>
        <main>
            <section id="menu">
                <h2>Menú</h2>
                <ul>
                    <li>Alitas BBQ - $100</li>
                    <li>Alitas Picantes - $100</li>
                    <li>Papas Fritas - $60</li>
                    <li>Hamburguesa - $120</li>
                </ul>
            </section>
            <section id="pedido" class="form-section">
                <h2>Pide tu comida</h2>
                <form>
                    <label for="platillo">Platillo:</label>
                    <select id="platillo" name="platillo">
                        <option>Alitas BBQ</option>
                        <option>Alitas Picantes</option>
                        <option>Papas Fritas</option>
                        <option>Hamburguesa</option>
                    </select>
                    <label for="cantidad">Cantidad:</label>
                    <input type="number" id="cantidad" name="cantidad" min="1" value="1" required>
                    <label for="nombre">Tu nombre:</label>
                    <input type="text" id="nombre" name="nombre" required>
                    <label for="direccion">Dirección:</label>
                    <textarea id="direccion" name="direccion" required></textarea>
                    <button type="submit">Enviar Pedido</button>
                </form>
            </section>
            <section id="reserva" class="form-section">
                <h2>Reserva tu mesa</h2>
                <form>
                    <label for="nombreReserva">Nombre:</label>
                    <input type="text" id="nombreReserva" name="nombreReserva" required>
                    <label for="personas">Número de personas:</label>
                    <input type="number" id="personas" name="personas" min="1" value="2" required>
                    <label for="fecha">Fecha:</label>
                    <input type="date" id="fecha" name="fecha" required>
                    <label for="hora">Hora:</label>
                    <input type="time" id="hora" name="hora" required>
                    <button type="submit">Reservar</button>
                </form>
            </section>
            <section id="contacto">
                <h2>Contacto y Ubicación</h2>
                <p>Teléfono: 555-123-4567</p>
                <p>Dirección: Calle Principal 123, Ciudad</p>
                <iframe src="https://maps.google.com/maps?q=Ciudad&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="200" frameborder="0" style="border:0"></iframe>
            </section>
        </main>
        <footer>
            <p>&copy; 2025 Kaburi. Todos los derechos reservados.</p>
        </footer>
    </div>

    <script>
        // Alternar entre login y registro
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const toggleLink = document.getElementById('toggle-link');
        const formTitle = document.getElementById('form-title');
        const toggleMsg = document.getElementById('toggle-msg');
        const authSection = document.getElementById('auth-section');
        const mainInterface = document.getElementById('main-interface');

        toggleLink.onclick = function(e){
            e.preventDefault();
            if(loginForm.style.display !== 'none'){
                loginForm.style.display = 'none';
                registerForm.style.display = '';
                formTitle.textContent = 'Registrarse';
                toggleMsg.textContent = '¿Ya tienes cuenta?';
                toggleLink.textContent = 'Iniciar sesión';
            } else {
                loginForm.style.display = '';
                registerForm.style.display = 'none';
                formTitle.textContent = 'Iniciar Sesión';
                toggleMsg.textContent = '¿No tienes cuenta?';
                toggleLink.textContent = 'Registrarse';
            }
        };

        // Simulación de "base de datos" en localStorage
        function getUsers(){
            return JSON.parse(localStorage.getItem('users') || '{}');
        }
        function saveUser(email, password){
            const users = getUsers();
            users[email] = password;
            localStorage.setItem('users', JSON.stringify(users));
        }
        function validateUser(email, password){
            const users = getUsers();
            return users[email] && users[email] === password;
        }

        // Manejar registro
        registerForm.onsubmit = function(e){
            e.preventDefault();
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const users = getUsers();
            if(users[email]){
                alert('Este correo ya está registrado.');
            } else {
                saveUser(email, password);
                alert('Registro exitoso. Ahora inicia sesión.');
                // Regresa a login automáticamente
                loginForm.style.display = '';
                registerForm.style.display = 'none';
                formTitle.textContent = 'Iniciar Sesión';
                toggleMsg.textContent = '¿No tienes cuenta?';
                toggleLink.textContent = 'Registrarse';
                document.getElementById('login-email').focus();
            }
        };

        // Manejar login y animar transición
        loginForm.onsubmit = function(e){
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            if(validateUser(email, password)){
                localStorage.setItem('session', email);
                // Animación: desliza hacia abajo el panel
                authSection.classList.add('hide');
                setTimeout(() => {
                    mainInterface.style.display = '';
                }, 700); // espera la animación
            } else {
                alert('Correo o contraseña incorrectos.');
            }
        };

        // Cerrar sesión (restablece el panel con animación inversa)
        function logout(){
            localStorage.removeItem('session');
            mainInterface.style.display = 'none';
            authSection.classList.remove('hide');
        }
        // Mantener sesión si ya está iniciada
        window.onload = function(){
            if(localStorage.getItem('session')){
                authSection.classList.add('hide');
                mainInterface.style.display = '';
            }
        }
    </script>
</body>
</html>
