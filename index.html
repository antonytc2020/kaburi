<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Kaburi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            min-height: 100vh;
            background: 
                linear-gradient(120deg, rgba(183,28,28,0.75), rgba(33,33,33,0.75)),
                url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=80');
            background-size: cover;
            background-position: center;
            color: #fff;
            font-family: Arial, sans-serif;
            overflow-x: hidden;
        }
        /* Logo global */
        .logo-global {
            position: fixed;
            top: 25px;
            left: 25px;
            z-index: 20;
            display: flex;
            align-items: center;
        }
        .logo-global img {
            width: 90px;
            height: 90px;
            object-fit: contain;
            background: #fff;
            border-radius: 24px;
            box-shadow: 0 2px 12px #0008;
            padding: 10px;
        }
        @media (max-width: 500px) {
            .logo-global img { width: 65px; height: 65px; padding: 4px;}
            .logo-global { top: 5px; left: 5px;}
        }
        /* Login panel centrado, negro */
        #auth-section {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #181818ee;
            box-shadow: 0 4px 24px #000d;
            padding: 32px 28px 24px 28px;
            border-radius: 14px;
            width: 340px;
            z-index: 10;
        }
        #auth-section.hidden {
            display: none;
        }
        .logo-login {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .logo-login img {
            width: 115px;
            height: 115px;
            background: #fff;
            border-radius: 50%;
            object-fit: contain;
            box-shadow: 0 2px 12px #0008;
            padding: 14px;
        }
        #auth-section h2 { 
            text-align: center; 
            color: #ff5252; 
            margin-top: 0;
            letter-spacing: 2px;
            text-shadow: 0 2px 8px #000a;
        }
        label { display: block; margin-top: 14px; }
        input {
            width: 100%;
            padding: 9px;
            margin-top: 6px;
            border-radius: 5px;
            border: 1px solid #333;
            background: #222c;
            color: #fff;
            font-size: 1em;
        }
        button[type="submit"] {
            margin-top: 19px;
            padding: 12px 20px;
            width: 100%;
            background: #ff5252;
            color: #fff;
            font-size: 1.15em;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 6px #0007;
            transition: background 0.2s;
        }
        button[type="submit"]:hover { background: #b71c1c; }
        .switch { margin-top: 22px; text-align: center;}
        #logout-btn {
            display: none;
            position: fixed;
            top: 30px;
            right: 30px;
            background: #ff5252;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 12px 28px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 16px #000a;
            z-index: 11;
            transition: filter 0.2s, background 0.2s;
        }
        #logout-btn.show {
            display: block;
        }
        #main-options,
        #panel-carta {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
        }
        #main-options.show,
        #panel-carta.show {
            display: flex;
        }
        .options-center,
        .carta-center {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
        }
        .big-option-btn {
            width: 350px;
            max-width: 90vw;
            padding: 38px 0;
            margin: 23px 0;
            font-size: 2.1em;
            font-weight: bold;
            border-radius: 18px;
            border: 4px solid;
            border-image: linear-gradient(90deg, #ff5252, #f7971e, #38ef7d, #43e8ff, #a259ff, #ff5252) 1;
            color: #fff;
            background: rgba(30,30,35,0.2);
            box-shadow: 0 3px 16px #0009;
            cursor: pointer;
            transition: transform 0.15s, filter 0.18s, border-color 0.2s;
            letter-spacing: 1px;
            backdrop-filter: blur(3px);
        }
        .big-option-btn:hover {
            filter: brightness(1.13);
            transform: scale(1.045);
            border-color: #fff;
        }
        /* Carta alitas panel */
        .carta-card {
            background: rgba(24,18,22,0.97);
            border-radius: 18px;
            box-shadow: 0 4px 32px #000c;
            padding: 34px 30px 28px 30px;
            min-width: 320px;
            max-width: 98vw;
            color: #fff;
            border: 4px solid;
            border-image: linear-gradient(90deg, #ff5252, #f7971e, #38ef7d, #43e8ff, #a259ff, #ff5252) 1;
            font-size: 1.13em;
            position: relative;
            animation: cartaFadeIn 0.4s;
        }
        @keyframes cartaFadeIn {
            from { opacity: 0; transform: scale(0.95);}
            to { opacity: 1; transform: scale(1);}
        }
        .carta-card h3 {
            text-align: center;
            margin-top: 0;
            font-size: 1.45em;
            letter-spacing: 1.5px;
            color: #ff5252;
            text-shadow: 0 2px 8px #000a;
        }
        .logo-carta {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .logo-carta img {
            width: 68px;
            height: 68px;
            object-fit: contain;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 2px 12px #0008;
            padding: 6px;
        }
        .alitas-img {
            width: 100%;
            max-width: 320px;
            border-radius: 16px;
            margin: 0 auto 24px auto;
            display: block;
            box-shadow: 0 2px 12px #0008;
        }
        .menu-alitas {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .menu-alitas li {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 13px;
            font-size: 1.15em;
        }
        .menu-desc {
            flex: 1 1 auto;
            margin-right: 14px;
            letter-spacing: 0.5px;
        }
        .menu-precio {
            font-weight: bold;
            font-size: 1.08em;
            color: #f7971e;
            margin-left: 6px;
            margin-right: 6px;
            min-width: 64px;
            text-align: right;
        }
        .menu-soles {
            font-size: 1.1em;
            font-weight: bold;
            color: #ffdd00;
            margin-right: 2px;
        }
        .menu-pedir-btn {
            background: linear-gradient(90deg, #ff5252, #f7971e);
            color: #fff;
            border: none;
            border-radius: 7px;
            padding: 7px 18px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            margin-left: 7px;
            box-shadow: 0 2px 6px #0005;
            transition: filter 0.15s;
        }
        .menu-pedir-btn:hover {
            filter: brightness(1.12);
        }
        #close-card {
            position: absolute;
            right: 17px;
            top: 15px;
            background: #ff5252;
            color: #fff;
            border: none;
            border-radius: 100%;
            width: 32px;
            height: 32px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 8px #0009;
        }
        .panel-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0 5px 0;
        }
        .panel-action-btn {
            background: linear-gradient(90deg, #ff5252, #f7971e, #38ef7d, #43e8ff, #a259ff, #ff5252);
            color: #fff;
            border: none;
            border-radius: 7px;
            padding: 12px 20px;
            font-size: 1.15em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 6px #0005;
            transition: filter 0.15s;
        }
        .panel-action-btn:hover {
            filter: brightness(1.11);
        }
        .pedido-resumen {
            background: rgba(38,38,46,0.86);
            border-radius: 12px;
            margin: 38px auto 0 auto;
            max-width: 420px;
            width: 100%;
            padding: 17px 19px 11px 19px;
            box-shadow: 0 2px 12px #0006;
            font-size: 1.17em;
        }
        .pedido-resumen h4 {
            margin: 0 0 10px 0;
            color: #f7971e;
            text-align: center;
        }
        .pedido-lista {
            margin: 0 0 11px 0;
            padding: 0;
            list-style: none;
        }
        .pedido-lista li {
            margin-bottom: 7px;
            display: flex;
            justify-content: space-between;
        }
        .pedido-item-nombre {
            font-weight: normal;
        }
        .pedido-item-precio {
            font-weight: bold;
            color: #ffdd00;
        }
        .pedido-total {
            text-align: right;
            font-size: 1.17em;
            font-weight: bold;
            color: #43e8ff;
            margin-top: 12px;
            margin-bottom: 0;
        }
        @media (max-width: 500px) {
            #auth-section { width: 96vw; left: 2vw; right: 2vw; padding: 12px 6px;}
            .big-option-btn { font-size: 1.15em; padding: 19px 0; }
            .options-center, .carta-center { padding-top: 60px;}
            #logout-btn { padding: 9px 13px; font-size: 1em; top:10px; right:10px;}
            .carta-card { padding: 16px 4vw 12px 4vw; }
            .pedido-resumen { padding: 10px 4vw 10px 4vw; }
            .logo-carta img { width: 46px; height: 46px; padding: 2px;}
        }
    </style>
</head>
<body>
    <!-- Logo global fijo arriba izquierda -->
    <div class="logo-global">
        <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=300&q=80" alt="Logo Kaburi" draggable="false">
        <img src="https://i.ibb.co/3kqZkTW/kaburi-logo.jpg" alt="Kaburi Logo" style="width:80px; height:80px; background:none; box-shadow:none; border-radius:0; margin-left:10px; object-fit:contain;" draggable="false">
    </div>
    <!-- Panel de login centrado -->
    <div class="container" id="auth-section">
        <div class="logo-login">
            <img src="https://i.ibb.co/3kqZkTW/kaburi-logo.jpg" alt="Kaburi Logo" draggable="false">
        </div>
        <h2 id="form-title">Iniciar Sesión</h2>
        <form id="login-form">
            <label for="login-email">Correo electrónico:</label>
            <input type="email" id="login-email" autocomplete="username" required>
            <label for="login-password">Contraseña:</label>
            <input type="password" id="login-password" autocomplete="current-password" required>
            <button type="submit">Ingresar</button>
        </form>
        <form id="register-form" style="display:none;">
            <label for="register-email">Correo electrónico:</label>
            <input type="email" id="register-email" autocomplete="username" required>
            <label for="register-password">Contraseña:</label>
            <input type="password" id="register-password" autocomplete="new-password" required>
            <button type="submit">Registrarse</button>
        </form>
        <div class="switch" id="switch-area">
            <span id="toggle-msg">¿No tienes cuenta?</span>
            <a href="#" id="toggle-link">Registrarse</a>
        </div>
    </div>
    <!-- Botón cerrar sesión -->
    <button id="logout-btn">Cerrar sesión</button>
    <!-- Opciones después de login -->
    <div id="main-options">
        <div class="options-center">
            <div class="logo-carta" style="position:absolute;top:34px;left:34px;">
                <img src="https://i.ibb.co/3kqZkTW/kaburi-logo.jpg" alt="Kaburi Logo" draggable="false">
            </div>
            <button class="big-option-btn" id="btn-hacer-pedido">Hacer pedido</button>
            <button class="big-option-btn" onclick="alert('Reservar pedido')">Reservar pedido</button>
            <button class="big-option-btn" onclick="alert('Pedir por delivery')">Pedir por delivery</button>
        </div>
    </div>
    <!-- Panel carta de alitas -->
    <div id="panel-carta">
        <div class="carta-center">
            <div class="carta-card">
                <div class="logo-carta">
                    <img src="https://i.ibb.co/3kqZkTW/kaburi-logo.jpg" alt="Kaburi Logo" draggable="false">
                </div>
                <button id="close-card" title="Cerrar">&times;</button>
                <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=800&q=80" alt="Alitas" class="alitas-img">
                <h3>Alitas</h3>
                <ul class="menu-alitas">
                    <li>
                        <span class="menu-desc">4 piezas</span>
                        <span class="menu-precio"><span class="menu-soles">S/</span>14</span>
                        <button class="menu-pedir-btn" onclick="pedirMenu('4 piezas', 14)">Pedir</button>
                    </li>
                    <li>
                        <span class="menu-desc">6 alitas</span>
                        <span class="menu-precio"><span class="menu-soles">S/</span>21</span>
                        <button class="menu-pedir-btn" onclick="pedirMenu('6 alitas', 21)">Pedir</button>
                    </li>
                    <li>
                        <span class="menu-desc">9 alitas</span>
                        <span class="menu-precio"><span class="menu-soles">S/</span>32</span>
                        <button class="menu-pedir-btn" onclick="pedirMenu('9 alitas', 32)">Pedir</button>
                    </li>
                    <li>
                        <span class="menu-desc">12 alitas</span>
                        <span class="menu-precio"><span class="menu-soles">S/</span>36</span>
                        <button class="menu-pedir-btn" onclick="pedirMenu('12 alitas', 36)">Pedir</button>
                    </li>
                    <li>
                        <span class="menu-desc">Combo 20 alitas + nuggets</span>
                        <span class="menu-precio"><span class="menu-soles">S/</span>65</span>
                        <button class="menu-pedir-btn" onclick="pedirMenu('Combo 20 alitas + nuggets', 65)">Pedir</button>
                    </li>
                    <li>
                        <span class="menu-desc">Combo 30 alitas + nuggets + gaseosa</span>
                        <span class="menu-precio"><span class="menu-soles">S/</span>75</span>
                        <button class="menu-pedir-btn" onclick="pedirMenu('Combo 30 alitas + nuggets + gaseosa', 75)">Pedir</button>
                    </li>
                </ul>
                <div class="panel-actions">
                    <button class="panel-action-btn" onclick="seguirOrdenando()">Seguir ordenando</button>
                    <button class="panel-action-btn" onclick="cambiarPedido()">Cambiar pedido</button>
                    <button class="panel-action-btn" onclick="continuarPedido()">Continuar</button>
                </div>
                <div id="pedido-resumen" class="pedido-resumen" style="display:none;">
                    <h4>Mi pedido</h4>
                    <ul class="pedido-lista" id="pedido-lista"></ul>
                    <div class="pedido-total" id="pedido-total"></div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Alternar login/registro
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const toggleLink = document.getElementById('toggle-link');
        const formTitle = document.getElementById('form-title');
        const toggleMsg = document.getElementById('toggle-msg');
        const authSection = document.getElementById('auth-section');
        const switchArea = document.getElementById('switch-area');
        const logoutBtn = document.getElementById('logout-btn');
        const mainOptions = document.getElementById('main-options');
        const btnHacerPedido = document.getElementById('btn-hacer-pedido');
        const panelCarta = document.getElementById('panel-carta');
        const closeCard = document.getElementById('close-card');
        const pedidoResumen = document.getElementById('pedido-resumen');
        const pedidoLista = document.getElementById('pedido-lista');
        const pedidoTotal = document.getElementById('pedido-total');

        // Pedido actual
        let pedido = [];

        toggleLink.onclick = function(e){
            e.preventDefault();
            if(loginForm.style.display !== 'none'){
                loginForm.style.display = 'none';
                registerForm.style.display = '';
                formTitle.textContent = 'Registrarse';
                toggleMsg.textContent = '¿Ya tienes cuenta?';
                toggleLink.textContent = 'Iniciar sesión';
            } else {
                loginForm.style.display = '';
                registerForm.style.display = 'none';
                formTitle.textContent = 'Iniciar Sesión';
                toggleMsg.textContent = '¿No tienes cuenta?';
                toggleLink.textContent = 'Registrarse';
            }
        };

        function getUsers(){
            return JSON.parse(localStorage.getItem('users') || '{}');
        }
        function saveUser(email, password){
            const users = getUsers();
            users[email] = password;
            localStorage.setItem('users', JSON.stringify(users));
        }
        function validateUser(email, password){
            const users = getUsers();
            return users[email] && users[email] === password;
        }

        registerForm.onsubmit = function(e){
            e.preventDefault();
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const users = getUsers();
            if(users[email]){
                alert('Este correo ya está registrado.');
            } else {
                saveUser(email, password);
                alert('Registro exitoso. Ahora inicia sesión.');
                loginForm.style.display = '';
                registerForm.style.display = 'none';
                formTitle.textContent = 'Iniciar Sesión';
                toggleMsg.textContent = '¿No tienes cuenta?';
                toggleLink.textContent = 'Registrarse';
                document.getElementById('login-email').focus();
            }
        };

        loginForm.onsubmit = function(e){
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            if(validateUser(email, password)){
                document.body.style.background = "#181822";
                mainOptions.classList.add('show');
                authSection.classList.add('hidden');
                logoutBtn.classList.add('show');
            } else {
                alert('Correo o contraseña incorrectos.');
            }
        };

        logoutBtn.onclick = function() {
            localStorage.removeItem('session');
            mainOptions.classList.remove('show');
            panelCarta.classList.remove('show');
            authSection.classList.remove('hidden');
            logoutBtn.classList.remove('show');
            loginForm.reset();
            registerForm.reset();
            loginForm.style.display = '';
            registerForm.style.display = 'none';
            formTitle.textContent = 'Iniciar Sesión';
            toggleMsg.textContent = '¿No tienes cuenta?';
            toggleLink.textContent = 'Registrarse';
            switchArea.style.display = '';
            pedido = [];
            actualizarResumen();
            pedidoResumen.style.display = 'none';
            document.body.style.background = "";
        };

        window.onload = function(){
            if(localStorage.getItem('session')){
                document.body.style.background = "#181822";
                mainOptions.classList.add('show');
                authSection.classList.add('hidden');
                logoutBtn.classList.add('show');
            }
        };

        btnHacerPedido.onclick = function() {
            mainOptions.classList.remove('show');
            panelCarta.classList.add('show');
            if (pedido.length > 0) {
                pedidoResumen.style.display = '';
                actualizarResumen();
            }
        }
        closeCard.onclick = function() {
            panelCarta.classList.remove('show');
            mainOptions.classList.add('show');
        }

        function pedirMenu(item, precio) {
            pedido.push({nombre: item, precio: precio});
            actualizarResumen();
            pedidoResumen.style.display = '';
        }
        window.pedirMenu = pedirMenu;

        function actualizarResumen() {
            // Limpiar lista
            pedidoLista.innerHTML = "";
            let total = 0;
            pedido.forEach(p => {
                total += p.precio;
                let li = document.createElement('li');
                li.innerHTML = `<span class="pedido-item-nombre">${p.nombre}</span> <span class="pedido-item-precio">S/ ${p.precio}</span>`;
                pedidoLista.appendChild(li);
            });
            pedidoTotal.textContent = "Total: S/ " + total;
        }

        // Acciones panel
        function seguirOrdenando() {
            alert("¡Puedes seguir agregando más productos!");
        }
        function cambiarPedido() {
            if(confirm("¿Estás seguro de eliminar tu pedido actual?")) {
                pedido = [];
                actualizarResumen();
                pedidoResumen.style.display = 'none';
            }
        }
        function continuarPedido() {
            if(pedido.length === 0){
                alert("Debes seleccionar al menos un producto.");
                return;
            }
            alert("¡Pedido enviado!\nGracias por tu compra.");
            pedido = [];
            actualizarResumen();
            pedidoResumen.style.display = 'none';
            // Aquí podrías cerrar el panel y regresar al menú principal si lo deseas:
            // panelCarta.classList.remove('show');
            // mainOptions.classList.add('show');
        }
        window.seguirOrdenando = seguirOrdenando;
        window.cambiarPedido = cambiarPedido;
        window.continuarPedido = continuarPedido;
    </script>
</body>
</html>
